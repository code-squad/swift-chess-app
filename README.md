# swift-chess-app
스위프트 체스게임 앱

'프로그램을 설계할 때 입력 → 검증 → 처리/계산 → 형식 → 출력 단계를 구분한다' 의 의미를 파악하지 못해서 설계 단계에서 고려하지 못했습니다.  

<br/><br/>

## 클래스 구성

<img width="603" alt="Screen Shot 2022-09-28 at 8 43 10 AM" src="https://user-images.githubusercontent.com/68368774/192656480-a4cbe024-3e1c-4d6c-abd1-d0931dcb0d1e.png">

<br/>

Chess를 추가하면서 기능요구사항에 적혀있는 Board의 역할이 상당 부분 Chess로 넘어가야한다고 생각했습니다.  
Chess를 만들지 말고 나와있는대로 Board가 담당하도록 만들까? 라는 생각도 했는데 다른 Board를 사용하는 부분이나 이후를 생각했을때 추가시키는게 좋다고 판단했습니다.  
(하지만 아직 크게 필요없는 부분인데 나중에 필요할거같다고 생각해서 오버스펙으로 개발하는게 좋지만은 않을거같다라는 생각을 하기도 했습니다. 한마디로 굳이?)

<br/>

-------------

<br/>

## 기능 요구사항 구현시 고민했던 부분들

요구사항을 전반적으로 읽어본 후 위에서 순서대로 구현해보도록 노력했습니다.  
(물론 원하는 기능부터 구현해도 되겠지만 차근차근 하나씩 간단하게 해나가자라는 생각을 했습니다.)

* 먼저 전반적인 구조를 생각했는데 Board와 Pawn은 이후에 호환성을 생각해서 프로토콜로 먼저 선언 한 뒤에 상세하게 구현을 하자.
* Board도 다른 Board로 변경할 수 있도록 더 큰 개념인 Chess를 만들고 Board 의존성을 주입받도록 하자.
  * 이렇게되면 Board가 담당하던 부분의 일부가 Chess로 넘어가야한다.
* 프로그램을 시작하면 말을 초기화한다. -> 프로그램의 상태를 나타내는 State를 enum으로 구현하자.
  * 초기화 자체 로직은 아직 구현하지않고 reset 메서드 호출 여부만 판단하도록 하자.
    * reset()을 호출하는곳을 state가 게임 진행중일때로 변경될때 호출할지 아니면 start()할때 할지 고민하다가 state가 변경되는 이유는 다양할 거 같아서 start()에서 하기로 결정
* 턴을 반복하면서 입력을 받아서 말을 움직인다.
  * 모델만 있는 상태에서 입력을 받는 방식을 생각해내지 못해서 move(_:to:)를 호출해 말이 움직이면 턴이 바뀌도록 하자.
  * (여기서 move(_:to:)는 board에서 담당하고 turn은 chess에서 담당하는데 board는 chess를 알지 못하기때문에 움직인뒤 어떻게 턴을 변경할지 고민을 많이 했습니다.
    * delegate, notification, KVO, Rx 등등 생각을 해봤는데 어떤 방식이 제일 최선인지는 잘 모르겠습니다. 고민하다 delegate로 처리하기로했습니다.
* 말의 위치를 입력받아 이동한다.
  * 이동을 구현하기위해서 판을 만들어야겠다고 생각하고 판을 만드는 과정중에서 사이즈를 ChessRule에서 받아오도록 구현하려고 했습니다.
  * 이떄 ChessRule을 Chess에서 가지고 있는데 Board는 Chess를 모르니까 사이즈를 가져오기 위해서 ChessRule을 가지고 있어야하는게 맞는건지 아니면 ChessRule에서 static으로 선언 한 뒤 가져다 써야하는지 고민을 했습니다.
  * (static으로 선언 한 뒤에 가져다 쓰는게 간단하긴 한데 그럼 ChessRule이 전역번수 같은 느낌이 돼버려서 이게 맞는 구현인지 잘 모르겠습니다.)
